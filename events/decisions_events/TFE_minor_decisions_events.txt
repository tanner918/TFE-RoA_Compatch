###################################################################
# 
# MINOR FLAVOR DECISIONS
# Mostly random stuff by Cybrxkhan 
# 
###################################################################


namespace = TFE_minor_decisions


# Bathing time (by Cybrxkhan)
TFE_minor_decisions.0001 = {
	type = character_event
	title = TFE_minor_decisions.0001.t
	desc = TFE_minor_decisions.0001.desc
	theme = friendly
	override_background = { reference = corridor_day }
	
	right_portrait = {
		character = root
		animation = happiness
	}

	immediate = {
		add_character_flag = is_naked
	}
	
	# Ok
	option = {
		name = TFE_minor_decisions.0001.a
		TFE_bathhouse_decision_effect = yes
	}

	after = {
		if = {
			limit = { has_character_flag = is_naked }
			remove_character_flag = is_naked
		}
	}
}

# Bath Construction (by Cybrxkhan)
TFE_minor_decisions.0002 = {
	type = character_event
	title = TFE_minor_decisions.0002.t
	desc = TFE_minor_decisions.0002.desc
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_compassionate
	}

	#immediate = {
	#	capital_province = { save_scope_as = capital } #For loc.
	#}
	
	# Small
	option = {
		name = TFE_minor_decisions.0002.a
		if = {
			limit = {
				culture = {
					has_cultural_tradition = tradition_roman_architecture
				}
			}
			remove_short_term_gold = 40
		}
		else = {
			remove_short_term_gold = 50
		}
		TFE_build_roman_bathhouse_small_effect = yes
	}
	
	# Medium
	option = {
		name = TFE_minor_decisions.0002.b
		trigger = {
			OR = {
				is_ai = no
				AND = {
					culture = {
						has_cultural_tradition = tradition_roman_architecture
					}
					gold >= 80
				}
				AND = {
					culture = {
						NOT = { has_cultural_tradition = tradition_roman_architecture }
					}
					gold >= 100
				}
			}
		}
		if = {
			limit = {
				culture = {
					has_cultural_tradition = tradition_roman_architecture
				}
			}
			remove_short_term_gold = 80
		}
		else = {
			remove_short_term_gold = 100
		}
		TFE_build_roman_bathhouse_medium_effect = yes
	}
	
	# Large
	option = {
		name = TFE_minor_decisions.0002.c
		trigger = {
			OR = {
				is_ai = no
				AND = {
					culture = {
						has_cultural_tradition = tradition_roman_architecture
					}
					gold >= 120
				}
				AND = {
					culture = {
						NOT = { has_cultural_tradition = tradition_roman_architecture }
					}
					gold >= 150
				}
			}
		}
		if = {
			limit = {
				culture = {
					has_cultural_tradition = tradition_roman_architecture
				}
			}
			remove_short_term_gold = 120
		}
		else = {
			remove_short_term_gold = 150
		}
		TFE_build_roman_bathhouse_large_effect = yes
	}

}



# Well consecration (by Cybrxkhan)
TFE_minor_decisions.0003 = {
	type = character_event
	title = TFE_minor_decisions.0003.t
	desc = TFE_minor_decisions.0003.desc
	theme = faith
	override_background = { reference = wilderness }
	
	right_portrait = {
		character = root
		animation = personality_honorable
	}

	immediate = {
		capital_county = {
			save_scope_as = county
		}
		random_list = {
			40 = {
				modifier = {
					add = 8
					piety_level <= 1
				}
				modifier = {
					add = 4
					piety_level <= 2
				}
				add_character_flag = TFE_well_level_1
			}
			30 = {
				modifier = {
					add = 4
					piety_level <= 2
				}
				modifier = {
					add = 8
					piety_level <= 3
				}
				modifier = {
					add = 4
					piety_level <= 4
				}
				add_character_flag = TFE_well_level_2
			}
			20 = {
				modifier = {
					add = 4
					piety_level >= 3
				}
				modifier = {
					add = 8
					piety_level >= 4
				}
				modifier = {
					add = 4
					piety_level >= 5
				}
				add_character_flag = TFE_well_level_3
			}
		}
	}
	
	# Ok
	option = {
		name = TFE_minor_decisions.0003.a
		if = {
			limit = {
				has_character_flag = TFE_well_level_1
			}
			scope:county = {
				add_county_modifier = {
					modifier = TFE_holy_well_level_1
					years = 20
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = TFE_well_level_2
			}
			scope:county = {
				add_county_modifier = {
					modifier = TFE_holy_well_level_2
					years = 20
				}
			}
		}
		else_if = {
			limit = {
				has_character_flag = TFE_well_level_3
			}
			scope:county = {
				add_county_modifier = {
					modifier = TFE_holy_well_level_3
					years = 20
				}
			}
		}
		custom_tooltip = TFE_minor_decisions.0003.tooltip
	}

	after = {
		if = {
			limit = {
				has_character_flag = TFE_well_level_1
			}
			remove_character_flag = TFE_well_level_1
		}
		if = {
			limit = {
				has_character_flag = TFE_well_level_2
			}
			remove_character_flag = TFE_well_level_2
		}
		if = {
			limit = {
				has_character_flag = TFE_well_level_3
			}
			remove_character_flag = TFE_well_level_3
		}
	}

}


# Visiting the Holy Well (by Cybrxkhan)
TFE_minor_decisions.0004 = {
	type = character_event
	title = TFE_minor_decisions.0004.t
	desc = TFE_minor_decisions.0004.desc
	theme = faith
	override_background = { reference = wilderness }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}
	immediate = {
		var:county_well = {
			save_scope_as = county
		}
	}
	# Ok
	option = {
		name = TFE_minor_decisions.0004.a
		if = {
			limit = {
				scope:county = {
					has_county_modifier = TFE_holy_well_level_3
				}
			}
			add_piety = 150
			stress_impact = {
				base = medium_stress_impact_loss
				zealous = miniscule_stress_impact_loss
			}
			random = {
				chance = 50
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = ROOT
					title = TFE_minor_decisions.0004.toast
					add_character_modifier = {
						modifier = TFE_healing_waters_of_a_holy_well
						years = 10
					}
				}
			}
		}
		if = {
			limit = {
				scope:county = {
					has_county_modifier = TFE_holy_well_level_2
				}
			}
			add_piety = 100
			stress_impact = {
				base = minor_stress_impact_loss
				zealous = miniscule_stress_impact_loss
			}
			random = {
				chance = 35
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = ROOT
					title = TFE_minor_decisions.0004.toast
					add_character_modifier = {
						modifier = TFE_healing_waters_of_a_holy_well
						years = 10
					}
				}
			}
		}
		if = {
			limit = {
				scope:county = {
					has_county_modifier = TFE_holy_well_level_1
				}
			}
			add_piety = 50
			stress_impact = {
				base = miniscule_stress_impact_loss
				zealous = miniscule_stress_impact_loss
			}
			random = {
				chance = 20
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = ROOT
					title = TFE_minor_decisions.0004.toast
					add_character_modifier = {
						modifier = TFE_healing_waters_of_a_holy_well
						years = 10
					}
				}
			}
		}
	}

	after = {
		scope:story = { end_story = yes }
	}

}


# What qanat to build?
TFE_minor_decisions.0005 = {
	type = character_event
	title = TFE_minor_decisions.0005.t
	desc = TFE_minor_decisions.0005.desc
	theme = realm
	override_background = {
		reference = garden
	}
	
	left_portrait = root
	
	immediate = {
		capital_county = {
			save_scope_as = qanat_county
		}
	}
	
	option = { # Small
		name = TFE_minor_decisions.0005.a
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }			
			}
			remove_short_term_gold = 40
		}
		else = {
			remove_short_term_gold = 50
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			add_prestige = 100
		}
		else = {
			add_prestige = 75
		}
		add_character_modifier = {
			modifier = TFE_funded_qanat_small
			years = 10
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_small
					years = 15
				}
			}
		}
		else = {
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_small
					years = 10
				}
			}
		}
	}	
	option = { # Medium
		name = TFE_minor_decisions.0005.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 100
				AND = {
					culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }
					gold >= 80
				}
			}
		}
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }		
			}
			remove_short_term_gold = 80
		}
		else = {
			remove_short_term_gold = 100
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			add_prestige = 200
		}
		else = {
			add_prestige = 150
		}
		add_character_modifier = {
			modifier = TFE_funded_qanat_medium
			years = 10
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_medium
					years = 15
				}
			}
		}
		else = {
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_medium
					years = 10
				}
			}
		}
	}	
	option = { # Large
		name = TFE_minor_decisions.0005.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 150
				AND = {
					culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }
					gold >= 120
				}
			}
		}
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }	
			}
			remove_short_term_gold = 120
		}
		else = {
			remove_short_term_gold = 150
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			add_prestige = 300
		}
		else = {
			add_prestige = 225
		}
		add_character_modifier = {
			modifier = TFE_funded_qanat_large
			years = 10
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_large
					years = 15
				}
			}
		}
		else = {
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_large
					years = 10
				}
			}
		}
	}	
	option = { # Grand
		name = TFE_minor_decisions.0005.d
		trigger = {
			OR = {
				is_ai = no
				gold >= 200
				AND = {
					culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }
					gold >= 160
				}
			}
		}
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_tfe_cheaper_qanats }			
			}
			remove_short_term_gold = 160
		}
		else = {
			remove_short_term_gold = 200
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			add_prestige = 400
		}
		else = {
			add_prestige = 300
		}
		add_character_modifier = {
			modifier = TFE_funded_qanat_grand
			years = 10
		}
		if = {
			limit = {
				culture = { has_cultural_tradition = tradition_fp3_irrigation_experts }
			}
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_grand
					years = 15
				}
			}
		}
		else = {
			scope:qanat_county = {
				add_county_modifier = {
					modifier = TFE_qanat_constructed_grand
					years = 10
				}
			}
		}
	}
}

TFE_minor_decisions.0006 = {
	type = character_event
	title = TFE_minor_decisions.0006.t
	desc = TFE_minor_decisions.0006.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	immediate = {
		#Setup Steppes
		random_county = {
			limit = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_sarmatian }
						culture = { has_cultural_pillar = heritage_turkic }
						culture = { has_cultural_pillar = heritage_mongolic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
			save_scope_as = steppe_county
		}
		scope:steppe_county.faith = {
			save_scope_as = steppe_faith
		}
		scope:steppe_county.culture = {
			save_scope_as = steppe_culture
		}

		#Setup Germanics
		random_county = {
			limit = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_west_germanic }
						culture = { has_cultural_pillar = heritage_central_germanic }
						culture = { has_cultural_pillar = heritage_east_germanic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
			save_scope_as = goth_county
		}
		scope:goth_county.faith = {
			save_scope_as = goth_faith
		}
		scope:goth_county.culture = {
			save_scope_as = goth_culture
		}

		#Setup Moors
		random_county = {
			limit = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_berber }
						culture = { has_cultural_pillar = heritage_arabic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
			save_scope_as = moor_county
		}
		scope:moor_county.faith = {
			save_scope_as = moor_faith
		}
		scope:moor_county.culture = {
			save_scope_as = moor_culture
		}

		#Setup Persians
		random_county = {
			limit = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_iranian }
						culture = { has_cultural_pillar = heritage_caucasian }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
			save_scope_as = persian_county
		}
		scope:persian_county.faith = {
			save_scope_as = persian_faith
		}
		scope:persian_county.culture = {
			save_scope_as = persian_culture
		}

		#Setup Indians
		random_county = {
			limit = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_dravidian }
						culture = { has_cultural_pillar = heritage_indo_aryan }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
			save_scope_as = indian_county
		}
		scope:indian_county.faith = {
			save_scope_as = indian_faith
		}
		scope:indian_county.culture = {
			save_scope_as = indian_culture
		}
	}
	
	left_portrait = root
	option = { # Hun / Steppe
		name = TFE_minor_decisions.0006.a
		trigger = {
			any_county = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_sarmatian }
						culture = { has_cultural_pillar = heritage_turkic }
						culture = { has_cultural_pillar = heritage_mongolic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
		}

		create_character = {
			employer = root
			template = open_commander_character
			faith = scope:steppe_faith
			culture = scope:steppe_culture
			gender_female_chance = {
				if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_male_only_combatant } }
					add = 0
				}
				else_if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_female_only_combatant } }
					add = 100
				}
				else = {
					add = 50
				}
			}
			save_scope_as = new_commander
		}

		remove_short_term_gold = 75
		add_prestige = -250
		custom_tooltip = recruit_foreign_specialist_decision.tt
			hidden_effect = {
				every_courtier = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
				every_vassal_or_below = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
			}

			trigger_event = TFE_minor_decisions.0007
	}	

	option = { # Goth / Germanic
		name = TFE_minor_decisions.0006.b
		trigger = {
			any_county = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_west_germanic }
						culture = { has_cultural_pillar = heritage_central_germanic }
						culture = { has_cultural_pillar = heritage_east_germanic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
		}

		create_character = {
			employer = root
			template = forest_commander_character
			faith = scope:goth_faith
			culture = scope:goth_culture
			gender_female_chance = {
				if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_male_only_combatant } }
					add = 0
				}
				else_if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_female_only_combatant } }
					add = 100
				}
				else = {
					add = 50
				}
			}
			save_scope_as = new_commander
		}

		remove_short_term_gold = 75
		add_prestige = -250
		custom_tooltip = recruit_foreign_specialist_decision.tt
			hidden_effect = {
				every_courtier = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
				every_vassal_or_below = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
			}

			trigger_event = TFE_minor_decisions.0008
	}	

	option = { # Moors / Africans / Arabs
		name = TFE_minor_decisions.0006.c
		trigger = {
			any_county = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_berber }
						culture = { has_cultural_pillar = heritage_arabic }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
		}

		create_character = {
			employer = root
			template = desert_commander_character
			faith = scope:moor_faith
			culture = scope:moor_culture
			gender_female_chance = {
				if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_male_only_combatant } }
					add = 0
				}
				else_if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_female_only_combatant } }
					add = 100
				}
				else = {
					add = 50
				}
			}
			save_scope_as = new_commander
		}

		remove_short_term_gold = 75
		add_prestige = -250
		custom_tooltip = recruit_foreign_specialist_decision.tt
			hidden_effect = {
				every_courtier = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
				every_vassal_or_below = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
			}

			trigger_event = TFE_minor_decisions.0009
	}	

	option = { # Persians / Caucasians
		name = TFE_minor_decisions.0006.d
		trigger = {
			any_county = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_iranian }
						culture = { has_cultural_pillar = heritage_caucasian }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
		}

		create_character = {
			employer = root
			template = hill_commander_character
			faith = scope:persian_faith
			culture = scope:persian_culture
			gender_female_chance = {
				if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_male_only_combatant } }
					add = 0
				}
				else_if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_female_only_combatant } }
					add = 100
				}
				else = {
					add = 50
				}
			}
			save_scope_as = new_commander
		}

		remove_short_term_gold = 75
		add_prestige = -250
		custom_tooltip = recruit_foreign_specialist_decision.tt
			hidden_effect = {
				every_courtier = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
				every_vassal_or_below = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
			}

			trigger_event = TFE_minor_decisions.0010
	}	

	option = { # Indians
		name = TFE_minor_decisions.0006.e
		trigger = {
			any_county = {
				AND = {
					OR = {
						culture = { has_cultural_pillar = heritage_dravidian }
						culture = { has_cultural_pillar = heritage_indo_aryan }
					}
					holder = {
						in_diplomatic_range = scope:emperor
					}
				}
			}
		}

		create_character = {
			employer = root
			template = jungle_commander_character
			faith = scope:indian_faith
			culture = scope:indian_culture
			gender_female_chance = {
				if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_male_only_combatant } }
					add = 0
				}
				else_if = {
					limit = { root.culture = { has_cultural_parameter = martial_custom_female_only_combatant } }
					add = 100
				}
				else = {
					add = 50
				}
			}
			save_scope_as = new_commander
		}

		remove_short_term_gold = 75
		add_prestige = -250
		custom_tooltip = recruit_foreign_specialist_decision.tt
			hidden_effect = {
				every_courtier = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
				every_vassal_or_below = {
					add_opinion = {
						modifier = angry_opinion
						target = root
						opinion = -10
					}
				}
			}

			trigger_event = TFE_minor_decisions.0011
	}	

	option = { # On Second Thought
		name = TFE_minor_decisions.0006.f
		remove_decision_cooldown = recruit_foreign_specialist_decision
	}
}

TFE_minor_decisions.0007 = { #Steppe
	type = character_event
	title = TFE_minor_decisions.0007.t
	desc = TFE_minor_decisions.0007.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	option = { # Yes Big
		name = TFE_minor_decisions.0007.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 2500
			}
		}
		remove_short_term_gold = 2500
			spawn_army = {
				name = event_troop_default_name
				levies = 2000
				men_at_arms = {
					type = light_footmen
					stacks = 10
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 7
				}
				men_at_arms = {
					type = horse_archers
					stacks = 7
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Medium
		name = TFE_minor_decisions.0007.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 1000
			}
		}
		remove_short_term_gold = 1000
			spawn_army = {
				name = event_troop_default_name
				levies = 800
				men_at_arms = {
					type = light_footmen
					stacks = 4
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 3
				}
				men_at_arms = {
					type = horse_archers
					stacks = 3
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Small
		name = TFE_minor_decisions.0007.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 500
			}
		}
		remove_short_term_gold = 500
			spawn_army = {
				name = event_troop_default_name
				levies = 400
				men_at_arms = {
					type = light_horsemen
					stacks = 2
				}
				men_at_arms = {
					type = horse_archers
					stacks = 2
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # No
		name = TFE_minor_decisions.0007.d
	}
}

TFE_minor_decisions.0008 = { # Goth
	type = character_event
	title = TFE_minor_decisions.0007.t
	desc = TFE_minor_decisions.0007.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	option = { # Yes Big
		name = TFE_minor_decisions.0007.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 2500
			}
		}
		remove_short_term_gold = 2500
			spawn_army = {
				name = event_troop_default_name
				levies = 4000
				men_at_arms = {
					type = light_footmen
					stacks = 15
				}
				men_at_arms = {
					type = war_dogs
					stacks = 20
				}
				men_at_arms = {
					type = churls
					stacks = 10
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Medium
		name = TFE_minor_decisions.0007.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 1000
			}
		}
		remove_short_term_gold = 1000
			spawn_army = {
				name = event_troop_default_name
				levies = 1600
				men_at_arms = {
					type = light_footmen
					stacks = 6
				}
				men_at_arms = {
					type = war_dogs
					stacks = 8
				}
				men_at_arms = {
					type = churls
					stacks = 4
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Small
		name = TFE_minor_decisions.0007.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 500
			}
		}
		remove_short_term_gold = 500
			spawn_army = {
				name = event_troop_default_name
				levies = 800
				men_at_arms = {
					type = light_footmen
					stacks = 3
				}
				men_at_arms = {
					type = war_dogs
					stacks = 4
				}
				men_at_arms = {
					type = churls
					stacks = 2
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # No
		name = TFE_minor_decisions.0007.d
	}
}

TFE_minor_decisions.0009 = { # Moor
	type = character_event
	title = TFE_minor_decisions.0007.t
	desc = TFE_minor_decisions.0007.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	option = { # Yes Big
		name = TFE_minor_decisions.0007.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 2500
			}
		}
		remove_short_term_gold = 2500
			spawn_army = {
				name = event_troop_default_name
				men_at_arms = {
					type = servile_soldiers
					stacks = 10
				}
				men_at_arms = {
					type = african_horse_archers
					stacks = 7
				}
				men_at_arms = {
					type = desert_hussar
					stacks = 7
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Medium
		name = TFE_minor_decisions.0007.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 1000
			}
		}
		remove_short_term_gold = 1000
			spawn_army = {
				name = event_troop_default_name
				men_at_arms = {
					type = servile_soldiers
					stacks = 4
				}
				men_at_arms = {
					type = african_horse_archers
					stacks = 3
				}
				men_at_arms = {
					type = desert_hussar
					stacks = 3
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Small
		name = TFE_minor_decisions.0007.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 500
			}
		}
		remove_short_term_gold = 500
			spawn_army = {
				name = event_troop_default_name
				men_at_arms = {
					type = servile_soldiers
					stacks = 2
				}
				men_at_arms = {
					type = african_horse_archers
					stacks = 2
				}
				men_at_arms = {
					type = desert_hussar
					stacks = 1
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # No
		name = TFE_minor_decisions.0007.d
	}
}

TFE_minor_decisions.0010 = { # Persian
	type = character_event
	title = TFE_minor_decisions.0007.t
	desc = TFE_minor_decisions.0007.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	option = { # Yes Big
		name = TFE_minor_decisions.0007.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 2500
			}
		}
		remove_short_term_gold = 2500
			spawn_army = {
				name = event_troop_default_name
				levies = 2000
				men_at_arms = {
					type = savran
					stacks = 6
				}
				men_at_arms = {
					type = daylami
					stacks = 6
				}
				men_at_arms = {
					type = kamandaran
					stacks = 10
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Medium
		name = TFE_minor_decisions.0007.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 1000
			}
		}
		remove_short_term_gold = 1000
			spawn_army = {
				name = event_troop_default_name
				levies = 800
				men_at_arms = {
					type = savran
					stacks = 3
				}
				men_at_arms = {
					type = daylami
					stacks = 3
				}
				men_at_arms = {
					type = kamandaran
					stacks = 4
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Small
		name = TFE_minor_decisions.0007.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 500
			}
		}
		remove_short_term_gold = 500
			spawn_army = {
				name = event_troop_default_name
				levies = 400
				men_at_arms = {
					type = savran
					stacks = 1
				}
				men_at_arms = {
					type = daylami
					stacks = 2
				}
				men_at_arms = {
					type = kamandaran
					stacks = 3
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # No
		name = TFE_minor_decisions.0007.d
	}
}

TFE_minor_decisions.0011 = { # Indian
	type = character_event
	title = TFE_minor_decisions.0007.t
	desc = TFE_minor_decisions.0007.desc
	theme = realm
	override_background = {
		reference = battlefield
	}

	option = { # Yes Big
		name = TFE_minor_decisions.0007.a
		trigger = {
			OR = {
				is_ai = no
				gold >= 2500
			}
		}
		remove_short_term_gold = 2500
			spawn_army = {
				name = event_troop_default_name
				levies = 2000
				men_at_arms = {
					type = war_elephant
					stacks = 4
				}
				men_at_arms = {
					type = paiks
					stacks = 10
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Medium
		name = TFE_minor_decisions.0007.b
		trigger = {
			OR = {
				is_ai = no
				gold >= 1000
			}
		}
		remove_short_term_gold = 1000
			spawn_army = {
				name = event_troop_default_name
				levies = 800
				men_at_arms = {
					type = war_elephant
					stacks = 2
				}
				men_at_arms = {
					type = paiks
					stacks = 4
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # Yes Small
		name = TFE_minor_decisions.0007.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 500
			}
		}
		remove_short_term_gold = 500
			spawn_army = {
				name = event_troop_default_name
				levies = 400
				men_at_arms = {
					type = war_elephant
					stacks = 1
				}
				men_at_arms = {
					type = paiks
					stacks = 2
				}
				location = capital_province
				origin = capital_province
				uses_supply = yes
				inheritable = yes
			}
	}
	option = { # No
		name = TFE_minor_decisions.0007.d
	}
}



# What irrigation tank to build?
TFE_minor_decisions.0012 = {
	type = character_event
	title = TFE_minor_decisions.0012.t
	desc = TFE_minor_decisions.0012.desc
	theme = realm
	override_background = {
		reference = ep2_holy_site_indian
	}
	
	left_portrait = root
	
	immediate = {
		capital_county = {
			save_scope_as = irrigation_tank_county
		}
	}
	
	option = { # Small
		name = TFE_minor_decisions.0012.a
		remove_short_term_gold = TFE_irrigation_tank_small_cost
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_rice_stepwell_irrigation_tank_effects }
			}
			add_prestige = 50
			add_piety = 75
		}
		else = {
			add_prestige = 25
			add_piety = 50
		}
		add_character_modifier = {
			modifier = TFE_funded_irrigation_tank_small
			years = 10
		}
		scope:irrigation_tank_county = {
			add_county_modifier = {
				modifier = TFE_irrigation_tank_constructed_small
				years = 10
			}
		}
		# DO NOT REMOVE, THIS IS FOR COMPATIBILITY WITH RICE!!!
		RICE_sri_lanka_struggle_irrigation_tank_small_effect = yes
		RICE_TFE_struggle_irrigation_tank_small_effect = yes
	}	
	option = { # Medium
		name = TFE_minor_decisions.0012.b
		trigger = {
			OR = {
				is_ai = no
				gold >= TFE_irrigation_tank_medium_cost
			}
		}
		remove_short_term_gold = TFE_irrigation_tank_medium_cost
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_rice_stepwell_irrigation_tank_effects }
			}
			add_prestige = 100
			add_piety = 150
		}
		else = {
			add_prestige = 50
			add_piety = 100
		}
		add_character_modifier = {
			modifier = TFE_funded_irrigation_tank_medium
			years = 10
		}
		scope:irrigation_tank_county = {
			add_county_modifier = {
				modifier = TFE_irrigation_tank_constructed_medium
				years = 10
			}
		}
		# DO NOT REMOVE, THIS IS FOR COMPATIBILITY WITH RICE!!!
		RICE_sri_lanka_struggle_irrigation_tank_medium_effect = yes
		RICE_TFE_struggle_irrigation_tank_medium_effect = yes
	}	
	option = { # Large
		name = TFE_minor_decisions.0012.c
		trigger = {
			OR = {
				is_ai = no
				gold >= TFE_irrigation_tank_large_cost
			}
		}
		remove_short_term_gold = TFE_irrigation_tank_large_cost
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_rice_stepwell_irrigation_tank_effects }
			}
			add_prestige = 150
			add_piety = 200
		}
		else = {
			add_prestige = 75
			add_piety = 150
		}
		add_character_modifier = {
			modifier = TFE_funded_irrigation_tank_large
			years = 10
		}
		scope:irrigation_tank_county = {
			add_county_modifier = {
				modifier = TFE_irrigation_tank_constructed_large
				years = 10
			}
		}
		# DO NOT REMOVE, THIS IS FOR COMPATIBILITY WITH RICE!!!
		RICE_sri_lanka_struggle_irrigation_tank_large_effect = yes
		RICE_TFE_struggle_irrigation_tank_large_effect = yes
	}	
	option = { # Grand
		name = TFE_minor_decisions.0012.d
		trigger = {
			OR = {
				is_ai = no
				gold >= TFE_irrigation_tank_huge_cost
			}
		}
		remove_short_term_gold = TFE_irrigation_tank_huge_cost
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_rice_stepwell_irrigation_tank_effects }
			}
			add_prestige = 200
			add_piety = 250
		}
		else = {
			add_prestige = 100
			add_piety = 200
		}
		add_character_modifier = {
			modifier = TFE_funded_irrigation_tank_grand
			years = 10
		}
		scope:irrigation_tank_county = {
			add_county_modifier = {
				modifier = TFE_irrigation_tank_constructed_grand
				years = 10
			}
		}
		# DO NOT REMOVE, THIS IS FOR COMPATIBILITY WITH RICE!!!
		RICE_sri_lanka_struggle_irrigation_tank_huge_effect = yes
		RICE_TFE_struggle_irrigation_tank_huge_effect = yes
	}
}

TFE_minor_decisions.0013 = {
	type = character_event
	title = TFE_minor_decisions.0013.t
	desc = TFE_minor_decisions.0013.desc
	theme = realm
	
	right_portrait = {
		character = root
		animation = personality_honorable
	}

	
	# Choose government form
	option = {
		name = TFE_minor_decisions.0013.a
		change_government = feudal_government
	}

	option = {
		name = TFE_minor_decisions.0013.b
		change_government = clan_government
	}
}

TFE_minor_decisions.0014 = {
	type = character_event
	title = TFE_minor_decisions.0014.t
	desc = TFE_minor_decisions.0014.desc
	theme = battle
	
	right_portrait = {
		character = root
		animation = personality_bold
	}

	
	# Choose raiding party size
	option = {
		name = TFE_minor_decisions.0014.a
		trigger = {
			gold >= 100
		}
		remove_short_term_gold = 100
		root = {
			set_variable = {
				name = raiding_party_size
				value = 300
			}
			set_variable = {
				name = raiding_party_loot
				value = 0
			}
			hidden_effect = {
			random_list = {
				45 = { #Regular raid event
					trigger_event = { 
						id = TFE_minor_decisions.0015
						days = { 30 40 }
					}
				}
				35 = { #Resistance encountered
					trigger_event = { 
						id = TFE_minor_decisions.0016
						days = { 30 40 }
					}
				}
				5 = { #Concubine
					trigger_event = { 
						id = TFE_minor_decisions.0017
						days = { 30 40 }
					}
				}
				5 = { #Big loot
					trigger_event = { 
						id = TFE_minor_decisions.0018
						days = { 30 40 }
					}
				}
				10 = { #Peaceful?
					trigger_event = { 
						id = TFE_minor_decisions.0019
						days = { 30 40 }
					}
				}
			}
			}
		}
	}

	option = {
		name = TFE_minor_decisions.0014.b
		trigger = {
			gold >= 200
		}
		remove_short_term_gold = 200
		root = {
			set_variable = {
				name = raiding_party_size
				value = 600
			}
			set_variable = {
				name = raiding_party_loot
				value = 0
			}
			hidden_effect = {
			random_list = {
				45 = { #Regular raid event
					trigger_event = { 
						id = TFE_minor_decisions.0015
						days = { 30 40 }
					}
				}
				35 = { #Resistance encountered
					trigger_event = { 
						id = TFE_minor_decisions.0016
						days = { 30 40 }
					}
				}
				5 = { #Concubine
					trigger_event = { 
						id = TFE_minor_decisions.0017
						days = { 30 40 }
					}
				}
				5 = { #Big loot
					trigger_event = { 
						id = TFE_minor_decisions.0018
						days = { 30 40 }
					}
				}
				10 = { #Peaceful?
					trigger_event = { 
						id = TFE_minor_decisions.0019
						days = { 30 40 }
					}
				}
			}
			}
		}
	}

	option = {
		name = TFE_minor_decisions.0014.c
		trigger = {
			gold >= 500
		}
		remove_short_term_gold = 500
		root = {
			set_variable = {
				name = raiding_party_size
				value = 1500
			}
			set_variable = {
				name = raiding_party_loot
				value = 0
			}
			hidden_effect = {
			random_list = {
				45 = { #Regular raid event
					trigger_event = { 
						id = TFE_minor_decisions.0015
						days = { 30 40 }
					}
				}
				35 = { #Resistance encountered
					trigger_event = { 
						id = TFE_minor_decisions.0016
						days = { 30 40 }
					}
				}
				5 = { #Concubine
					trigger_event = { 
						id = TFE_minor_decisions.0017
						days = { 30 40 }
					}
				}
				5 = { #Big loot
					trigger_event = { 
						id = TFE_minor_decisions.0018
						days = { 30 40 }
					}
				}
				10 = { #Peaceful?
					trigger_event = { 
						id = TFE_minor_decisions.0019
						days = { 30 40 }
					}
				}
			}
			}
		}
	}

	option = {
		name = TFE_minor_decisions.0014.d
		trigger = {
			gold >= 1000
		}
		remove_short_term_gold = 1000
		root = {
			set_variable = {
				name = raiding_party_size
				value = 3000
			}
			set_variable = {
				name = raiding_party_loot
				value = 0
			}
			hidden_effect = {
			random_list = {
				45 = { #Regular raid event
					trigger_event = { 
						id = TFE_minor_decisions.0015
						days = { 30 40 }
					}
				}
				35 = { #Resistance encountered
					trigger_event = { 
						id = TFE_minor_decisions.0016
						days = { 30 40 }
					}
				}
				5 = { #Concubine
					trigger_event = { 
						id = TFE_minor_decisions.0017
						days = { 30 40 }
					}
				}
				5 = { #Big loot
					trigger_event = { 
						id = TFE_minor_decisions.0018
						days = { 30 40 }
					}
				}
				10 = { #Peaceful?
					trigger_event = { 
						id = TFE_minor_decisions.0019
						days = { 30 40 }
					}
				}
			}
			}
		}
	}
}

TFE_minor_decisions.0015 = {
	type = character_event
	title = TFE_minor_decisions.0015.t
	desc = TFE_minor_decisions.0015.desc
	theme = battle
	
	right_portrait = {
		character = root
		animation = personality_bold
	}
	immediate = {
		root = {
			set_variable = {
				name = loss
				value = { value = {2 40} round = yes }
			}
			set_variable = {
				name = gain
				value = { value = {2 20} round = yes }
			}
			if = {
				limit = { exists = var:raiding_party_size }
				change_variable = {
					name = raiding_party_size
					subtract = root.var:loss
				}
			}
			else = {
				set_variable = {
					name = raiding_party_size
					value = 1
				}
			}
			if = {
				limit = { exists = var:raiding_party_loot }
				change_variable = {
					name = raiding_party_loot
					add = root.var:gain
				}
			}
			else = {
				set_variable = {
					name = raiding_party_loot
					value = 0
				}
			}
		}
		root.var:raiding_party_size = {
			save_scope_as = size
		}
		root.var:raiding_party_loot = {
			save_scope_as = loot
		}
	}

	option = {
		name = TFE_minor_decisions.0015.a
		trigger = {
			scope:size >= 50
		}
		hidden_effect = {
		random_list = {
			45 = { #Regular raid event
				trigger_event = { 
					id = TFE_minor_decisions.0015
					days = { 30 40 }
				}
			}
			35 = { #Resistance encountered
				trigger_event = { 
					id = TFE_minor_decisions.0016
					days = { 30 40 }
				}
			}
			5 = { #Concubine
				trigger_event = { 
					id = TFE_minor_decisions.0017
					days = { 30 40 }
				}
			}
			5 = { #Big loot
				trigger_event = { 
					id = TFE_minor_decisions.0018
					days = { 30 40 }
				}
			}
			10 = { #Peaceful?
				trigger_event = { 
					id = TFE_minor_decisions.0019
					days = { 30 40 }
				}
			}
		}
		}
	}
	option = {
		name = TFE_minor_decisions.0015.b
		add_prestige = scope:loot
		add_gold = scope:loot
		TFE_spawn_china_raiding_party_effect = yes
	}
}

TFE_minor_decisions.0016 = {
	type = character_event
	title = TFE_minor_decisions.0016.t
	desc = TFE_minor_decisions.0016.desc
	theme = battle
	
	right_portrait = {
		character = root
		animation = worry
	}
	immediate = {
		random_list = {
			50 = { #Won the battle
				root = { 
					set_variable = {
						name = loss
						value = { value = {40 200} max = root.var:raiding_party_size round = yes }
					}
					set_variable = {
						name = gain
						value = { value = {20 200} round = yes }
					}
				}
			}
			50 = { #Lost the battle
				root = { 
					set_variable = {
						name = loss
						value = { value = {80 300} round = yes }
					}
					set_variable = {
						name = gain
						value = { value = {10 100} round = yes }
					}
				}
			}
		}
		root = {
			if = {
				limit = { exists = var:raiding_party_size }
				change_variable = {
					name = raiding_party_size
					subtract = root.var:loss
				}
			}
			else = {
				set_variable = {
					name = raiding_party_size
					value = 1
				}
			}
			if = {
				limit = { exists = var:raiding_party_loot }
				change_variable = {
					name = raiding_party_loot
					add = root.var:gain
				}
			}
			else = {
				set_variable = {
					name = raiding_party_loot
					value = 0
				}
			}
			if = {
				limit = { NOT = { var:raiding_party_size >= 0 }}
				change_variable = {
					name = raiding_party_size
					multiply = 0
				}
			}
		}
		root.var:raiding_party_size = {
			save_scope_as = size
		}
		root.var:raiding_party_loot = {
			save_scope_as = loot
		}
	}

	option = {
		name = TFE_minor_decisions.0016.a
		trigger = {
			scope:size >= 50
		}
		hidden_effect = {
		random_list = {
			45 = { #Regular raid event
				trigger_event = { 
					id = TFE_minor_decisions.0015
					days = { 30 40 }
				}
			}
			35 = { #Resistance encountered
				trigger_event = { 
					id = TFE_minor_decisions.0016
					days = { 30 40 }
				}
			}
			5 = { #Concubine
				trigger_event = { 
					id = TFE_minor_decisions.0017
					days = { 30 40 }
				}
			}
			5 = { #Big loot
				trigger_event = { 
					id = TFE_minor_decisions.0018
					days = { 30 40 }
				}
			}
			10 = { #Peaceful?
				trigger_event = { 
					id = TFE_minor_decisions.0019
					days = { 30 40 }
				}
			}
		}
		}
	}
	option = {
		name = TFE_minor_decisions.0016.b
		if = {
			limit = { scope:size > 0 }
			add_prestige = scope:loot
			add_gold = scope:loot
			TFE_spawn_china_raiding_party_effect = yes
		}
	}
}

TFE_minor_decisions.0017 = {
	type = character_event
	title = TFE_minor_decisions.0017.t
	desc = TFE_minor_decisions.0017.desc
	theme = battle
	
	left_portrait = {
		character = root
		animation = personality_greedy
	}
	right_portrait = {
		character = scope:concubine
		animation = fear
	}
	immediate = {
		create_character = {
			template = local_beauty_character
			culture = culture:han
			faith = faith:zhengyi
			trait = beauty_good_3
			#Set up the scope
			save_scope_as = concubine
		}
		root = {
			set_variable = {
				name = loss
				value = { value = {2 40} round = yes }
			}
			set_variable = {
				name = gain
				value = { value = {2 20} round = yes }
			}
			if = {
				limit = { exists = var:raiding_party_size }
				change_variable = {
					name = raiding_party_size
					subtract = root.var:loss
				}
			}
			else = {
				set_variable = {
					name = raiding_party_size
					value = 1
				}
			}
			if = {
				limit = { exists = var:raiding_party_loot }
				change_variable = {
					name = raiding_party_loot
					add = root.var:gain
				}
			}
			else = {
				set_variable = {
					name = raiding_party_loot
					value = 0
				}
			}
		}
		root.var:raiding_party_size = {
			save_scope_as = size
		}
		root.var:raiding_party_loot = {
			save_scope_as = loot
		}
	}

	option = {
		name = TFE_minor_decisions.0017.a
		trigger = {
			scope:size >= 50
		}
		hidden_effect = { 
			scope:concubine = { 
				death = { 
					death_reason = death_vanished 
				} 
			}
		}
		hidden_effect = {
		random_list = {
			50 = { #Regular raid event
				trigger_event = { 
					id = TFE_minor_decisions.0015
					days = { 30 40 }
				}
			}
			35 = { #Resistance encountered
				trigger_event = { 
					id = TFE_minor_decisions.0016
					days = { 30 40 }
				}
			}
			5 = { #Big loot
				trigger_event = { 
					id = TFE_minor_decisions.0018
					days = { 30 40 }
				}
			}
			10 = { #Peaceful?
				trigger_event = { 
					id = TFE_minor_decisions.0019
					days = { 30 40 }
				}
			}
		}
		}
	}
	option = {
		name = TFE_minor_decisions.0017.b
		add_prestige = scope:loot
		add_gold = scope:loot
		TFE_spawn_china_raiding_party_effect = yes
		add_courtier = scope:concubine
	}
}

TFE_minor_decisions.0018 = {
	type = character_event
	title = TFE_minor_decisions.0018.t
	desc = TFE_minor_decisions.0018.desc
	theme = battle
	
	right_portrait = {
		character = root
		animation = happiness
	}
	immediate = {
		root = {
			set_variable = {
				name = loss
				value = { value = {20 45} round = yes }
			}
			set_variable = {
				name = gain
				value = { value = {100 500} round = yes }
			}
			if = {
				limit = { exists = var:raiding_party_size }
				change_variable = {
					name = raiding_party_size
					subtract = root.var:loss
				}
			}
			else = {
				set_variable = {
					name = raiding_party_size
					value = 1
				}
			}
			if = {
				limit = { exists = var:raiding_party_loot }
				change_variable = {
					name = raiding_party_loot
					add = root.var:gain
				}
			}
			else = {
				set_variable = {
					name = raiding_party_loot
					value = 0
				}
			}
		}
		root.var:raiding_party_size = {
			save_scope_as = size
		}
		root.var:raiding_party_loot = {
			save_scope_as = loot
		}
	}

	option = {
		name = TFE_minor_decisions.0018.a
		trigger = {
			scope:size >= 50
		}
		hidden_effect = {
		random_list = {
			50 = { #Regular raid event
				trigger_event = { 
					id = TFE_minor_decisions.0015
					days = { 30 40 }
				}
			}
			35 = { #Resistance encountered
				trigger_event = { 
					id = TFE_minor_decisions.0016
					days = { 30 40 }
				}
			}
			5 = { #Concubine
				trigger_event = { 
					id = TFE_minor_decisions.0017
					days = { 30 40 }
				}
			}
			10 = { #Peaceful?
				trigger_event = { 
					id = TFE_minor_decisions.0019
					days = { 30 40 }
				}
			}
		}
		}
	}
	option = {
		name = TFE_minor_decisions.0018.b
		add_prestige = scope:loot
		add_gold = scope:loot
		TFE_spawn_china_raiding_party_effect = yes
	}
}

TFE_minor_decisions.0019 = {
	type = character_event
	title = TFE_minor_decisions.0019.t
	desc = TFE_minor_decisions.0019.desc
	theme = diplomacy
	
	right_portrait = {
		character = root
		animation = personality_honorable
	}
	immediate = {
		root = {
			set_variable = {
				name = loss
				value = { value = {5 20} round = yes }
			}
			set_variable = {
				name = gain
				value = { value = {10 50} round = yes }
			}
			if = {
				limit = { exists = var:raiding_party_size }
				change_variable = {
					name = raiding_party_size
					subtract = root.var:loss
				}
			}
			else = {
				set_variable = {
					name = raiding_party_size
					value = 1
				}
			}
			if = {
				limit = { exists = var:raiding_party_loot }
				change_variable = {
					name = raiding_party_loot
					add = root.var:gain
				}
			}
			else = {
				set_variable = {
					name = raiding_party_loot
					value = 0
				}
			}
		}
		root.var:raiding_party_size = {
			save_scope_as = size
		}
		root.var:raiding_party_loot = {
			save_scope_as = loot
		}
	}

	option = {
		name = TFE_minor_decisions.0018.a
		trigger = {
			scope:size >= 50
		}
		hidden_effect = {
		random_list = {
			50 = { #Regular raid event
				trigger_event = { 
					id = TFE_minor_decisions.0015
					days = { 30 40 }
				}
			}
			40 = { #Resistance encountered
				trigger_event = { 
					id = TFE_minor_decisions.0016
					days = { 30 40 }
				}
			}
			5 = { #Concubine
				trigger_event = { 
					id = TFE_minor_decisions.0017
					days = { 30 40 }
				}
			}
			5 = { #Big loot
				trigger_event = { 
					id = TFE_minor_decisions.0018
					days = { 30 40 }
				}
			}
		}
		}
	}
	option = {
		name = TFE_minor_decisions.0019.b
		add_prestige = scope:loot
		add_gold = scope:loot
		TFE_spawn_china_raiding_party_effect = yes
	}
}




# East African tattoo decision
# By Cybrxkhan
TFE_minor_decisions.0020 = {
	type = character_event
	title = TFE_minor_decisions.0020.t
	desc = TFE_minor_decisions.0020.desc
	theme = faith
	override_background = { reference = physicians_study }
	
	right_portrait = {
		character = root
		animation = personality_zealous
	}
	
	# Ok
	option = {
		name = TFE_minor_decisions.0020.a
		TFE_east_african_tattoo_decision_effect = yes
	}

}